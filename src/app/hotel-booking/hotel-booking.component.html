<app-header></app-header>
<div class="page-wrapper">
    <!-- Main Header -->
    <div class="fixed_menu w-100">
        <header class="header header_style_one"></header>
    </div>
    <!-- Mobile Responsive Menu -->
    <div class="mr_menu d-lg-none">
        <button type="button" class="mr_menu_close"><i class="fa fa-times"></i></button>
        <div class="logo"></div>
        <div class="mr_navmenu"></div>
    </div>
    <!-- End Main Header -->

    <!-- Page Banner -->
    <section class="page-banner" margin-top:20px style="background-image: url(/assets/images/background/16.jpg)">
        <div class="auto-container">
            <h1 style="margin-top: 20%; font-size: 80px;" class="page-banner_title">Review Your Booking</h1>
        </div>
    </section>
    <!-- End Page Banner -->

    <!-- Tour Detail Two -->
    <section class="tour-detail-two">
        <div class="auto-container">
            <form method="post" action="#">
                <div class="row clearfix">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="position-sticky">
                            <!-- Price Summary  -->
                            <div class="card">
                                <div class="card-header">
                                    <h5>Price Summary</h5>
                                </div>
                                <div class="card-body">
                                    <ul>
                                        <li class="d-flex align-items-center justify-content-between mb-2"><span>Room
                                                Charge</span> <span>$ {{Chambre.prix}}</span></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Cancellation Policy  -->
                            <div class="card mt-4">
                                <div class="card-header">
                                    <h5>Cancellation Policy</h5>
                                </div>
                                <div class="card-body">
                                    <ul>
                                        <li class="mb-3"><span class="fa fa-solid fa-chevron-right me-2"></span> If you
                                            cancel your booking before 72 hour from check-in time you will get 30%
                                            refund</li>
                                        <li class="mb-3"><span class="fa fa-solid fa-chevron-right me-2"></span> If you
                                            cancel your booking before 48 hour from check-in time you will get 10%
                                            refund</li>
                                        <li class="mb-3"><span class="fa fa-solid fa-chevron-right me-2"></span> If you
                                            cancel your booking before 24 hour you will not get refund</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-8 col-md-8 col-sm-12">
                        <div class="booking-form-block active">
                            <!-- Room Details -->
                            <div class="card">
                                <div class="card-header">
                                    <h5>Hotel Summary</h5>
                                </div>
                                <div class="card-body d-flex align-items-center gap-4 flex-wrap flex-lg-nowrap">
                                    <div class="room-decoration flex-shrink-0">
                                        <a href="/assets/images/gallery/52.jpg" class="lightbox-image"><img
                                                src="/assets/images/gallery/52.jpg" alt=""></a>
                                    </div>
                                    <div class="room-content">
                                        ng g c edit
                                        <h5><a href="hotel-booking.html">{{Hotel.nom}}</a></h5>
                                        <div class="room-info mt-2">
                                            <p class="mb-2"><i class="fas fa-map-marker-alt fa-fw"></i> {{Hotel.localisation}}</p>
                                            <div class="room-rating">
                                                <span *ngFor="let i of [].constructor(Hotel.categorie)" class="fa fa-star"></span>
                                            </div>
                                            <ul class="room-facilities flex-wrap flex-xl-nowrap">
                                                <li>Free Wi-Fi</li>
                                                <li>AC</li>
                                                <li>Toiletries</li>
                                                <li>Mini Bar</li>
                                                <li>No Breakfast</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Booking Details  -->
                            <div class="card mt-4">
                                <div class="card-header">
                                    <h5>Booking Summary</h5>
                                </div>
                                <div class="card-body">
                                    <table class="booking-table w-100">
                                        <thead>
                                            <tr>
                                                <th>Check-In</th>
                                                <th>Check-Out</th>
                                                <th>Rooms</th>
                                                <th>Guests</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="date" id="start" [(ngModel)]="startDate" name="trip-start" min="minDateStartDate" />
                                                </td>
                                                <td>
                                                    <input type="date" id="end" [(ngModel)]="endDate" name="trip-end" min="minDateEndDate" />
                                                </td>
                                                <td>
                                                    <select class="select-location" id="room" required>
                                                        <option [value]="0" [selected]="true">Select</option>
                                                        <option *ngFor="let room of roomList" [value]="room.roomNumber">{{ room }}</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" value="0" />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="text-right mt-4">
                                <button class="btn-style-two theme-btn" id="donation_next">
                                    <span class="btn-wrap">
                                        <span class="text-one">Next</span>
                                        <span class="text-two">Next</span>
                                    </span>
                                </button>
                            </div>
                        </div>

                        <div class="booking-form-block">
                            <!-- Guest Information -->
                            <div class="card">
                                <div class="card-header">
                                    <h5>Client Details</h5>
                                </div>
                                <div class="card-body">
                                    <!-- Booking Form -->
                                    <div class="booking-form">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <!-- Form Group -->
                                                <div class="form-group">
                                                    <label class="form-label"><b>First Name</b></label>
                                                    <span>{{nom}}</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <!-- Form Group -->
                                                <div class="form-group">
                                                    <label class="form-label"><b>Last Name</b></label>
                                                    <span>{{prenom}}</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <!-- Form Group -->
                                                <div class="form-group mb-0">
                                                    <label class="form-label"><b>Email Address</b></label>
                                                    <span>{{email}}</span>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <!-- Form Group -->
                                                <div class="form-group mb-0">
                                                    <label class="form-label"><b>Phone Number</b></label>
                                                    <span>{{phone}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex align-items-center justify-content-between mt-4">
                                <button class="btn-style-three theme-btn" id="donation_back">
                                    <span class="btn-wrap">
                                        <span class="text-one">Previous</span>
                                        <span class="text-two">Previous</span>
                                    </span>
                                </button>

                                <button (click)="createReservation()" [disabled]="!startDate || !endDate"
                                    class="btn-style-two theme-btn" id="donation_next">
                                    <span class="btn-wrap">
                                        <span class="text-one">Book</span>
                                        <span class="text-two">Book</span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>
    <!-- End Tour Detail Two -->

    <!-- Modal for Alerts -->
    <div *ngIf="modalOpen" class="modal">
        <div class="modal-content">
          <span class="close" (click)="closeModal()">&times;</span>
          <h3>Booking Success</h3>
          <p>Your reservation has been created successfully!</p>
          <div>
            <h4>Reservation Details:</h4>
            <p><strong>Client ID:</strong> {{ reservation.id_client }}</p>
            <p><strong>Check-In Date:</strong> {{ reservation.dateDebut | date }}</p>
            <p><strong>Check-Out Date:</strong> {{ reservation.dateFin | date }}</p>
            <p><strong>Room ID:</strong> {{ reservation.id_chambre }}</p>
          </div>
        </div>
      </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="auto-container">
            <!-- Upper Box -->
            <div class="upper-box">
                <div class="d-flex align-items-center justify-content-between flex-wrap">
                    <div class="footer-logo"><a href="index.html"><img src="/assets/images/logo.svg" alt=""
                                title=""></a></div>
                    <ul class="footer-nav">
                        <li><a href="#">Destinations</a></li>
                        <li><a href="#">Tours</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                    <!-- Social Box -->
                    <div class="footer-social_box">
                        <a href="https://facebook.com/" class="fab fa-facebook fa-fw"></a>
                        <a href="https://twitter.com/" class="fab fa-twitter-square fa-fw"></a>
                        <a href="https://instagram.com/" class="fab fa-instagram fa-fw"></a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="d-flex align-items-center justify-content-between flex-wrap">
                    <div class="copyright">Copyright &copy; 2023 Vacasky. All rights reserved.</div>
                    <ul class="footer-bottom_nav">
                        <li><a href="#">Privacy policy</a></li>
                        <li><a href="#">Terms & Condition</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
</div>
